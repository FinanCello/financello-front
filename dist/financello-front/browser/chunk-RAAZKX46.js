import{a as b,b as D}from"./chunk-V3X3LTC5.js";import{b as w,c as l,d as v,e as C,h as M,j as _,k as P,o as k,p as S,q as O,r as y}from"./chunk-ND74TXIE.js";import{Ba as u,E as g,H as s,J as f,Ka as x,Na as h,S as m,T as e,U as n,V as i,Z as p,da as r,r as d}from"./chunk-32YVQZIY.js";var F=class c{constructor(a,t,o){this.fb=a;this.authService=t;this.router=o;this.loginForm=this.fb.group({email:["",[l.required,l.email]],password:["",[l.required]]})}loginForm;isLoading=!1;errorMessage="";snackbarService=d(b);onSubmit(){if(this.loginForm.markAllAsTouched(),this.loginForm.invalid){this.snackbarService.showSnackbar("Data are Missing","Complete all the required fields","icons/warning.png");return}this.isLoading=!0,this.errorMessage="";let a=this.loginForm.value;this.authService.login(a).subscribe({next:t=>{console.log("Login response:",t),localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify({id:t.id,email:t.email,firstName:t.firstName,lastName:t.lastName,userType:t.userType})),this.snackbarService.showSnackbar("Successful Record","The user was created correctly","icons/success.png"),this.router.navigate(["/dashboard"])},error:t=>{this.isLoading=!1;let o=t.error?.detail||"Access Denied";o.includes("Incorrect password")?this.snackbarService.showSnackbar("Access Denied","Incorrect password","icons/error.png"):o.includes("User not found")?this.snackbarService.showSnackbar("Access Denied","User does not exist","icons/error.png"):this.snackbarService.showSnackbar("Access Denied",o,"icons/error.png")}})}goToSignup(){this.router.navigate(["/auth/register"])}static \u0275fac=function(t){return new(t||c)(s(S),s(D),s(x))};static \u0275cmp=f({type:c,selectors:[["app-login"]],decls:30,vars:1,consts:[[1,"login"],[1,"content"],[1,"login-glass"],[1,"rectangle-27"],[1,"rectangle-26"],[1,"login2"],[1,"login3"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-group"],["src","/assets/icons/mail.svg",1,"icons"],[1,"input-wrapper"],["type","email","id","email","formControlName","email","required","","placeholder"," "],["for","email"],["src","/assets/icons/lock.svg",1,"icons2"],["type","password","id","password","formControlName","password","required","","placeholder"," "],["for","password"],["type","submit",1,"button"],[1,"text"],[1,"group-210"],[1,"create-an-account",3,"click"],[1,"forgot-password"],["src","/assets/img/financello.png",1,"finacello-jpg"]],template:function(t,o){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),i(3,"div",3)(4,"div",4),e(5,"div",5)(6,"div",6),r(7,"Login"),n(),e(8,"form",7),p("ngSubmit",function(){return o.onSubmit()}),e(9,"div",8),i(10,"img",9),e(11,"div",10),i(12,"input",11),e(13,"label",12),r(14,"E-mail"),n()()(),e(15,"div",8),i(16,"img",13),e(17,"div",10),i(18,"input",14),e(19,"label",15),r(20,"Password"),n()()(),e(21,"button",16)(22,"span",17),r(23,"Login"),n()()(),e(24,"div",18)(25,"a",19),p("click",function(){return o.goToSignup()}),r(26,"Create an account"),n(),e(27,"a",20),r(28,"Forgot password?"),n()()()(),i(29,"img",21),n()()),t&2&&(g(8),m("formGroup",o.loginForm))},dependencies:[u,y,M,w,v,C,k,_,P,h,O],styles:['@font-face{font-family:PalanquinDark-Bold;src:url(/assets/fonts/PalanquinDark-Bold.ttf) format("truetype")}@font-face{font-family:DmSans-Regular;src:url(/assets/fonts/DMSans-Regular.ttf) format("truetype")}@font-face{font-family:Poppins-Medium;src:url(/assets/fonts/Poppins-Medium.ttf) format("truetype")}.login[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.login[_ngcontent-%COMP%]{background:linear-gradient(245.01deg,#7aaaaa,#dcdcd1);padding:119px 314px;display:flex;flex-direction:column;gap:10px;align-items:flex-start;justify-content:flex-start;height:1024px;position:relative}.content[_ngcontent-%COMP%]{align-self:stretch;flex-shrink:0;height:785px;position:relative}.login-glass[_ngcontent-%COMP%]{width:859px;height:555px;position:absolute;left:433px;top:116px;overflow:hidden}.rectangle-27[_ngcontent-%COMP%]{background:#d9d9d9cc;width:456px;height:456px;position:absolute;left:382px;top:45px}.rectangle-26[_ngcontent-%COMP%]{background:#d9d9d91a;border-radius:20px;border-style:solid;border-color:#ffffff80;border-width:1px;width:785px;height:525px;position:absolute;left:63px;top:14px;box-shadow:inset -43.67px 43.67px 43.67px #ffffff1a,inset 43.67px -43.67px 43.67px #a5a5a51a;-webkit-backdrop-filter:blur(43.67px);backdrop-filter:blur(43.67px)}.login2[_ngcontent-%COMP%]{padding:25px 31px;display:flex;flex-direction:column;gap:46px;align-items:center;justify-content:center;width:435px;position:absolute;left:392px;top:47px;overflow:hidden}.login3[_ngcontent-%COMP%]{background:linear-gradient(8.96deg,#7aaaaa,#092c36 99.98999834060669%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-align:center;font-family:PalanquinDark-Bold,sans-serif;font-size:40px;font-weight:700;position:relative;align-self:stretch}.group-208[_ngcontent-%COMP%]{flex-shrink:0;width:371px;height:40px;position:static}.icons[_ngcontent-%COMP%]{width:16px;height:16px;position:absolute;left:350px;top:20px;overflow:visible;aspect-ratio:1}.line[_ngcontent-%COMP%]{margin-top:-1px;border-style:solid;border-color:#000;border-width:1px 0 0 0;width:365px;height:0px;position:absolute;left:38px;top:177px;transform-origin:0 0;transform:rotate(.157deg) scale(1)}.e-mail[_ngcontent-%COMP%]{background:#d9d9d900;padding:2px 6px;width:225px;height:40px;position:absolute;left:32px;top:143px}.e-mail2[_ngcontent-%COMP%]{color:#000;text-align:left;font-family:DmSans-Regular,sans-serif;font-size:20px;font-weight:400;position:absolute;left:6px;top:2px}.group-209[_ngcontent-%COMP%]{flex-shrink:0;width:371px;height:40px;position:static}.icons2[_ngcontent-%COMP%]{width:16px;height:16px;position:absolute;left:350px;top:20px;overflow:visible;aspect-ratio:1}.line2[_ngcontent-%COMP%]{margin-top:-1px;border-style:solid;border-color:#000;border-width:1px 0 0 0;width:365px;height:0px;position:absolute;left:38px;top:263px;transform-origin:0 0;transform:rotate(.157deg) scale(1)}.password[_ngcontent-%COMP%]{background:#d9d9d900;padding:2px 6px;width:225px;height:40px;position:absolute;left:32px;top:229px}.password2[_ngcontent-%COMP%]{color:#000;text-align:left;font-family:DmSans-Regular,sans-serif;font-size:20px;font-weight:400;position:absolute;left:6px;top:2px}.button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#0ea49b,#053e3b);border:none;border-radius:100px;padding:12px 24px;width:290px;cursor:pointer;transition:background .3s ease,transform .2s ease;display:flex;justify-content:center;align-items:center}.button[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#14b4aa,#0a4641);transform:scale(1.05)}.button[_ngcontent-%COMP%]:active{transform:scale(.95)}.button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff;font-family:Poppins-Medium,sans-serif;font-size:20px;font-weight:500}.text[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Poppins-Medium,sans-serif;font-size:20px;font-weight:500;position:relative;width:460px}.group-210[_ngcontent-%COMP%]{flex-shrink:0;width:369px;height:21px;position:static}.forgot-password[_ngcontent-%COMP%], .create-an-account[_ngcontent-%COMP%]{background:none;border:none;color:#000;font-family:DmSans-Regular,sans-serif;font-size:16px;font-weight:400;text-align:center;cursor:pointer;position:absolute;left:33px;top:415px;transition:color .3s ease,transform .3s ease}.forgot-password[_ngcontent-%COMP%]{left:270px}.forgot-password[_ngcontent-%COMP%]:hover, .create-an-account[_ngcontent-%COMP%]:hover{color:#0af;transform:scale(1.05)}.finacello-jpg[_ngcontent-%COMP%]{background:linear-gradient(44.41deg,#0ea49b,#092c36);border-radius:20px;border-style:solid;border-color:#dcdcd1;border-width:1px;width:785px;height:785px;position:absolute;left:0;top:0;box-shadow:14px 10px 5px #00000040;object-fit:cover;aspect-ratio:1}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:24px;width:100%}.form-group[_ngcontent-%COMP%]{position:relative;width:100%;max-width:371px;height:56px}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%}input[_ngcontent-%COMP%]{width:100%;padding:12px 8px;font-family:DmSans-Regular,sans-serif;font-size:18px;border:none;border-bottom:1px solid #000;background:transparent!important;color:#000;outline:none;-webkit-box-shadow:none!important;box-shadow:none!important;caret-color:#0af}input[_ngcontent-%COMP%]:-webkit-autofill{transition:background-color 100000s ease-in-out 0s!important;-webkit-text-fill-color:#000!important}input[_ngcontent-%COMP%]::placeholder{color:transparent}label[_ngcontent-%COMP%]{position:absolute;left:8px;top:12px;font-size:18px;color:#000;font-family:DmSans-Regular,sans-serif;pointer-events:none;transition:.2s ease all}input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{top:-10px;left:8px;font-size:14px;color:#0af}']})};export{F as LoginComponent};
