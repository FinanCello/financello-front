import{$a as f,Fa as g,Hb as x,Ib as O,Ja as m,Jb as C,Kb as D,Q as v,Rb as _,U as d,Ua as l,Va as n,Wa as o,eb as r,fb as p,gb as u,lb as b,mb as A,va as c,za as h}from"./chunk-7ENC3VFK.js";var s=class t{constructor(e){this.http=e}baseUrl="http://localhost:8080/api/achievements";getAllAchievements(){return this.http.get(`${this.baseUrl}`)}getUserAchievements(e){return this.http.get(`${this.baseUrl}/user/${e}`)}checkAchievements(e){return this.http.post(`${this.baseUrl}/user/${e}/check`,{})}static \u0275fac=function(i){return new(i||t)(d(_))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};function S(t,e){t&1&&(n(0,"div",5),r(1," A\xFAn no has desbloqueado logros. "),o())}function P(t,e){if(t&1&&(n(0,"div",6)(1,"div",7),r(2,"\u{1F3C5}"),o(),n(3,"div",8),r(4),o(),n(5,"div",9),r(6),o(),n(7,"div",10),r(8),b(9,"date"),o()()),t&2){let i=e.$implicit;c(4),p(i.achievementName),c(2),p(i.achievementDescription),c(2),u("Desbloqueado: ",A(9,3,i.unlockedAt,"shortDate"))}}var I=class t{constructor(e){this.achievementService=e}achievements=[];userAchievements=[];userId=1;ngOnInit(){this.loadAchievements(),this.loadUserAchievements()}loadAchievements(){this.achievementService.getAllAchievements().subscribe({next:e=>{this.achievements=e},error:e=>{console.error("Error loading achievements:",e)}})}loadUserAchievements(){this.achievementService.getUserAchievements(this.userId).subscribe({next:e=>{this.userAchievements=e},error:e=>{console.error("Error loading user achievements:",e)}})}checkAchievements(){this.achievementService.checkAchievements(this.userId).subscribe({next:()=>{console.log("Logros verificados."),this.loadUserAchievements()},error:e=>{console.error("Error verificando logros:",e)}})}static \u0275fac=function(i){return new(i||t)(h(s))};static \u0275cmp=g({type:t,selectors:[["app-achievements"]],decls:8,vars:2,consts:[[1,"logros-container"],[3,"click"],["class","mensaje-vacio",4,"ngIf"],[1,"logros-grid"],["class","logro-card",4,"ngFor","ngForOf"],[1,"mensaje-vacio"],[1,"logro-card"],[1,"icono"],[1,"nombre"],[1,"descripcion"],[1,"fecha"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"h2"),r(2,"\u{1F396}\uFE0F Logros Desbloqueados"),o(),n(3,"button",1),f("click",function(){return a.checkAchievements()}),r(4,"\u{1F504} Verificar logros"),o(),m(5,S,2,0,"div",2),n(6,"div",3),m(7,P,10,6,"div",4),o()()),i&2&&(c(5),l("ngIf",a.userAchievements.length===0),c(2),l("ngForOf",a.userAchievements))},dependencies:[D,x,O,C],styles:[".logros-container[_ngcontent-%COMP%]{background-color:#dcdcd1;padding:40px;border-radius:15px;max-width:1000px;margin:0 auto;font-family:PalanquinDark-Medium,sans-serif}h2[_ngcontent-%COMP%]{color:#092c36;margin-bottom:20px;text-align:center}button[_ngcontent-%COMP%]{background-color:#0ea49b;color:#fff;border:none;padding:12px 24px;border-radius:10px;font-weight:700;margin-bottom:30px;cursor:pointer;display:block;margin-left:auto;margin-right:auto}.logros-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.logro-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #bababa;border-radius:15px;padding:20px;text-align:center;transition:transform .2s}.logro-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.icono[_ngcontent-%COMP%]{font-size:40px;margin-bottom:10px}.nombre[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#092c36;margin-bottom:8px}.descripcion[_ngcontent-%COMP%]{font-size:14px;color:#475367;margin-bottom:10px}.fecha[_ngcontent-%COMP%]{font-size:12px;color:#0ea49b}.mensaje-vacio[_ngcontent-%COMP%]{text-align:center;color:#475367;font-size:16px}"]})};export{I as AchievementsComponent};
