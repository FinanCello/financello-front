<div class="savinggoals-main-container">
  <div class="savinggoals-content">
    <div class="savinggoals-header">
      <h2 class="page-title">Metas de Ahorro</h2>
      <div class="savinggoals-buttons">
        <div class="button-container">
          <button class="circle-button" [routerLink]="['/dashboard/savinggoals/new']">
            <img src="assets/icons/plus.png" alt="Nueva Meta" class="plus-icon" />
          </button>
          <span class="button-label">Nueva meta</span>
        </div>
      </div>
    </div>
    
    <!-- Lista de metas de ahorro -->
    <div *ngIf="savingGoals.length > 0" class="savinggoals-list">
      <h3 class="section-title">Mis metas de ahorro</h3>
      <div class="goal-cards-container">
        <div *ngFor="let goal of savingGoals" class="goal-card">
          <div class="goal-card-header">
            <h4 class="goal-name">{{ goal.name }}</h4>
            <div class="goal-actions">
              <button class="action-button edit" (click)="onEdit(goal)">
                <img src="assets/icons/gear-six.png" alt="Editar" class="action-icon" />
              </button>
              <button class="action-button delete" (click)="onDelete(goal)">
                <img src="assets/icons/x.png" alt="Eliminar" class="action-icon" />
              </button>
            </div>
          </div>
          <div class="goal-amounts">
            <div class="goal-current">Actual: S/. {{ goal.currentAmount }}</div>
            <div class="goal-target">Meta: S/. {{ goal.targetAmount }}</div>
          </div>
          <div class="goal-progress-bar">
            <div class="progress-fill" [style.width.%]="(goal.currentAmount / goal.targetAmount) * 100"></div>
          </div>
          <div class="goal-date">Fecha límite: {{ goal.dueDate | date:'dd/MM/yyyy' }}</div>
        </div>
      </div>
    </div>
    
    <div *ngIf="savingGoals.length === 0 && !loading && !error" class="empty-state">
      <p>No tienes metas de ahorro. ¡Crea una nueva!</p>
    </div>
    
    <div *ngIf="loading" class="loading-state">
      <p>Cargando metas de ahorro...</p>
    </div>
    
    <div *ngIf="error" class="error-state">
      <p>{{ error }}</p>
    </div>
  </div>
</div>
